<!DOCTYPE html>
<html>
  <head>
    <script src="../p5.min.js"></script>
    <script src="../addons/p5.dom.min.js"></script>
    <script src="../addons/p5.sound.min.js"></script>
     <script src="../addons/p5.speech.js"></script>
    <script src="sketch.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    <style> body {background-color: black; font-family: courier new, sans-serif; font-size: 20px;};
}

      </style>
  </head>
  <body>

   <h1 style=" color: white" >SEND A MESSAGE FROM THE UPSIDE-DOWN</h1>
   <h3 style=" color: white" > Press the "Record Message" button then say your message or type a message below: </h3> <Br><Br><Br>
    <form>
    <label for="message" style=" color: white" >Enter Message:</label>
    <input type="text" name="message" style=" color: black" placeholder="Run" id="message">
    <button type="button" id="sendButton" style=" color: black"> Send Message </button><br><br>


    </form>

    <Br>
 <script>
// start listening

  var foo = new p5.SpeechRec(); // speech recognition object (will prompt for mic access)
     foo.continuous = false;
     foo.interimResults = false;

//foo.start()



var sendButton = document.getElementById("sendButton");
sendButton.addEventListener("click", sendMessage1);



  /*   sendButton.addEventListener('keyup',function(e){
    if (e.keyCode === 13) {
    sendMessage;
  }
});
     */

// var voice = new p5.Speech(); // speech synthesis object
//voice.speak('Send a Message from the Upside-down'); // say something

foo.onResult = sendMessage; // bind callback function to trigger when speech is recognized

foo.onEnd = cleanMessage;


function cleanMessage(){
    //currentmessage = "";
    console.log("message done");

    startMessage = true;
        onPrevMillis = millis();
        usermessage = currentmessage;
}



function sendMessage(){

    currentmessage = foo.resultString.toLowerCase();
    console.log(currentmessage);




    //console.log("send Message");


 }


      </script>


  </body>
</html>
